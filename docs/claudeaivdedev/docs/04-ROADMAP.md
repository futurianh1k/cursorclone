# 04. 구축 로드맵

> **문서 버전**: 2.0  
> **작성일**: 2026-01-03  
> **상태**: Draft

## 1. 개요

### 1.1 프로젝트 일정 요약

| 단계 | 기간 | 목표 | 주요 산출물 |
|------|------|------|-----------|
| **Phase 1: PoC** | 2-4주 | 기술 검증 | 동작하는 프로토타입 |
| **Phase 2: Pilot** | 4-8주 | 보안 통제 적용 | 운영 가능한 시스템 |
| **Phase 3: Production** | 4-6주 | 대규모 운영 | 프로덕션 환경 |

### 1.2 전제 조건

```
□ 인프라 준비
  ├─ □ GPU 서버 (Tabby: RTX 5090 × 2, vLLM: A100 × 2)
  ├─ □ 일반 서버 (code-server, 프록시 등)
  ├─ □ 스토리지 (NVMe, 사용자당 20GB)
  └─ □ 네트워크 (VLAN 구성, 방화벽 규칙)

□ 소프트웨어 준비
  ├─ □ 컨테이너 이미지 (내부 레지스트리에 등록)
  ├─ □ AI 모델 파일 (반입 완료)
  ├─ □ 인증서 (사내 PKI)
  └─ □ 라이선스 (필요시)

□ 조직 준비
  ├─ □ 프로젝트팀 구성
  ├─ □ 보안팀 협조
  └─ □ 파일럿 사용자 선정
```

## 2. Phase 1: PoC (2-4주)

### 2.1 목표

**"정말 Cursor처럼 체감되는가"를 검증**

핵심 질문:
- code-server에서 Continue 확장이 정상 동작하는가?
- Tabby 자동완성이 실용적인 수준인가? (응답속도, 품질)
- Chat/Edit 기능이 개발 생산성을 높이는가?

### 2.2 PoC 성공 기준 (정량적)

| 항목 | 최소 기준 | 목표 | 측정 방법 |
|------|----------|------|----------|
| 자동완성 응답 (P95) | < 400ms | < 200ms | Tabby 메트릭 |
| 자동완성 수용률 | > 15% | > 25% | 사용자 설문 |
| Chat 응답 (P95) | < 5s | < 3s | LLM Gateway 로그 |
| Continue 호환성 | 핵심 기능 동작 | 전체 기능 동작 | 기능 체크리스트 |
| 사용자 만족도 | 3.5/5 | 4/5 | 설문조사 |

### 2.3 주차별 계획

#### Week 1: 기본 환경 구성

| 일자 | 작업 | 담당 | 산출물 |
|------|------|------|--------|
| Day 1-2 | Docker Compose 환경, code-server 기동 | 플랫폼 | docker-compose.yaml |
| Day 3-4 | Keycloak 설치, OIDC 연동 | 플랫폼 | 인증 설정 |
| Day 5 | 브라우저 접속 검증 | 전체 | 테스트 결과 |

#### Week 2: AI 기능 연동

| 일자 | 작업 | 담당 | 산출물 |
|------|------|------|--------|
| Day 1-2 | Tabby 설치, 모델 로딩, 자동완성 테스트 | 플랫폼 | Tabby 설정 |
| Day 3-4 | Continue 확장 설치, vLLM 연동 | 플랫폼 | Continue 설정 |
| Day 5 | **호환성 검증 (핵심)** | 전체 | 이슈 목록 |

#### Week 3: 통합 테스트

| 일자 | 작업 | 담당 | 산출물 |
|------|------|------|--------|
| Day 1-2 | 통합 환경 구성, GitLab 연동 | 플랫폼 | 통합 환경 |
| Day 3-4 | 파일럿 사용자 테스트 (3-5명) | 전체 | 피드백 |
| Day 5 | Go/No-Go 결정 | PM | PoC 보고서 |

### 2.4 PoC 체크리스트

```
기능 검증
──────────
□ code-server 브라우저 접속
□ Continue 확장 설치 및 로딩
□ Tabby 자동완성 동작 (Python, JS/TS)
□ Continue Chat/Edit 기능
□ Git 연동 (Clone, Commit, Push)

성능 검증
──────────
□ 자동완성 응답시간 < 400ms (P95)
□ Chat 응답시간 < 5s (P95)
□ IDE 로딩시간 < 10s

호환성 검증 (핵심)
──────────
□ Continue 모든 UI 요소 정상 렌더링
□ WebSocket 프록시 정상 동작
□ 언어 서버 연동
□ 터미널/파일 탐색기 정상 동작
```

## 3. Phase 2: Pilot (4-8주)

### 3.1 목표

**"금융권 통제를 충족하는 운영형으로 전환"**

### 3.2 주차별 계획

#### Week 1-2: 보안 강화

- SSO + MFA 적용 (Keycloak 프로덕션 설정)
- 워크스페이스 격리 (1인 1 네임스페이스)
- TLS 적용 (사내 PKI)

#### Week 3-4: 공급망 통제

- 확장 화이트리스트 운영
- 패키지 미러 구성 (Nexus)
- 모델 반입 절차 수립

#### Week 5-6: LLM Gateway

- LiteLLM Proxy 설치
- Rate limiting, 로깅, DLP 적용
- Code RAG 구축 (선택)

#### Week 7-8: 파일럿 운영

- 20-30명 사용자 확대
- 운영 자동화 (모니터링, 알림)
- 보안팀 검토

### 3.3 Pilot 완료 기준

| 항목 | 기준 |
|------|------|
| 보안 통제 | 체크리스트 100% 충족 |
| 안정성 | 99% 가동률 (1주 기준) |
| 사용자 만족도 | 4/5 이상 |

## 4. Phase 3: Production (4-6주)

### 4.1 목표

**"대규모 사용자/대규모 코드베이스 운영"**

### 4.2 주요 작업

- Kubernetes 기반 오케스트레이션
- 고가용성 구성 (Active-Standby, 클러스터링)
- 자동 스케일링 (HPA)
- 전사 롤아웃 (단계적: 50명 → 100명 → 전사)

### 4.3 스케일링 가이드

| 사용자 수 | code-server | Tabby | vLLM |
|----------|-------------|-------|------|
| 50명 | 4 vCPU × 10 Pod | RTX 5090 × 2 | A100 × 2 |
| 100명 | 4 vCPU × 20 Pod | RTX 5090 × 3 | A100 × 3 |
| 200명 | 4 vCPU × 40 Pod | RTX 5090 × 5 | A100 × 5 |

## 5. 비용 산정

### 5.1 하드웨어 비용 (예상, 원화 기준)

| 항목 | PoC | Pilot | Production (100명) |
|------|-----|-------|-------------------|
| GPU 서버 - Tabby (RTX 5090) | 2,500만원 × 1 | 2,500만원 × 2 | 2,500만원 × 3 |
| GPU 서버 - vLLM (A100 40GB) | 8,000만원 × 1 | 8,000만원 × 2 | 8,000만원 × 3 |
| 일반 서버 | 500만원 × 2 | 500만원 × 5 | 500만원 × 10 |
| 스토리지 (NVMe) | 500만원 | 1,500만원 | 3,000만원 |
| **소계** | **약 1.2억원** | **약 2.5억원** | **약 4.5억원** |

### 5.2 소프트웨어 비용

| 항목 | 비용 | 라이선스 |
|------|------|----------|
| code-server | 무료 | MIT |
| Tabby | 무료 | Apache 2.0 |
| Continue | 무료 | Apache 2.0 |
| Keycloak | 무료 | Apache 2.0 |
| LiteLLM | 무료 | MIT |

### 5.3 총 비용 요약

| 단계 | 하드웨어 | 인력 (약 14 M/M) | 합계 |
|------|---------|-----------------|------|
| 전체 | 약 8억원 | 약 2억원 | **약 10억원** |

> 기존 인프라 활용 시 하드웨어 비용 절감 가능

## 6. 리스크 및 대응

| 리스크 | 영향 | 대응 방안 |
|--------|------|----------|
| Continue-code-server 호환성 | 높음 | PoC에서 조기 검증 |
| Tabby 품질 미달 | 중간 | 모델 튜닝, 대형 모델 전환 |
| 금융권 심사 탈락 | 매우 높음 | 사전 보안팀 협의 |
| 사용자 저항 | 중간 | 교육, 점진적 롤아웃 |

## 7. 의사결정 포인트

### 7.1 PoC 완료 후 Go/No-Go

```
□ 자동완성 응답 P95 < 400ms?
□ Continue 핵심 기능 동작?
□ 사용자 만족도 3.5/5 이상?

→ 모두 충족: Phase 2 진행
→ 미충족: 추가 PoC 또는 프로젝트 재검토
```

### 7.2 Pilot 완료 후 Go/No-Go

```
□ 보안 체크리스트 100%?
□ 99% 가동률?
□ 보안팀 승인?

→ 모두 충족: Phase 3 진행
→ 미충족: 안정화 기간 연장
```

## 8. 다음 단계

- [PRD](05-PRD.md)에서 상세 요구사항 확인
- [scaffold/](../scaffold/)에서 실제 배포 코드 확인
