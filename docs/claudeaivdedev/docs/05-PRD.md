# 05. Product Requirements Document (PRD)

> **문서 버전**: 2.0  
> **작성일**: 2026-01-03  
> **상태**: Draft  
> **작성자**: Platform Team

---

## 1. 개요

### 1.1 제품명

**VDE Web IDE Platform** - 금융권 VDE 환경을 위한 브라우저 기반 AI 코딩 플랫폼

### 1.2 비전

> 금융권 개발자가 보안 규제를 준수하면서도 Cursor/Copilot 수준의 AI 코딩 경험을 브라우저만으로 누릴 수 있게 한다.

### 1.3 배경 및 문제 정의

**현재 상황**:
- 금융권 VDE 환경에서는 로컬 PC에 VS Code 설치 불가
- 외부 AI 서비스 (GitHub Copilot, Cursor) 사용 불가
- 개발 생산성이 타 산업 대비 저하됨

**해결해야 할 문제**:
1. VDE 정책 제약 내에서 현대적 IDE 경험 제공
2. 외부 의존 없이 AI 코딩 어시스턴트 기능 제공
3. 금융권 보안/감사 요건 충족

### 1.4 목표

| 목표 | 측정 지표 | 목표치 |
|------|----------|--------|
| 개발 생산성 향상 | 코드 작성 시간 단축 | 20% 감소 |
| AI 기능 활용률 | 자동완성 수용률 | 25% 이상 |
| 사용자 만족도 | NPS | 40 이상 |
| 보안 컴플라이언스 | 감사 지적 사항 | 0건 |

### 1.5 비목표 (Out of Scope)

- VDE 외부에서의 접근 지원
- 모바일 환경 지원
- 실시간 협업 편집 (Google Docs 스타일)
- 외부 AI 서비스 연동

---

## 2. 사용자 및 페르소나

### 2.1 주요 사용자

| 페르소나 | 설명 | 주요 니즈 |
|---------|------|----------|
| **주니어 개발자** | 1-3년차, 학습 곡선 중 | 코드 제안, 문법 도움 |
| **시니어 개발자** | 5년차 이상, 복잡한 로직 담당 | 리팩토링, 아키텍처 조언 |
| **테크리드** | 팀 기술 의사결정 | 코드 리뷰, 표준화 |
| **DevOps** | 인프라/배포 담당 | 스크립트 생성, 설정 관리 |

### 2.2 사용자 시나리오

#### 시나리오 1: 일상적인 코딩 작업

```
사용자: 주니어 개발자 (김개발)
상황: 새로운 API 엔드포인트 개발

1. VDE에서 브라우저로 Web IDE 접속
2. SSO 로그인 + MFA 인증
3. 기존 프로젝트 워크스페이스 열기
4. 코드 작성 시작 → Tabby가 자동완성 제안
5. 복잡한 로직 필요 → Continue Chat으로 질문
6. AI가 제안한 코드를 검토 후 적용
7. Git commit & push
```

#### 시나리오 2: 레거시 코드 리팩토링

```
사용자: 시니어 개발자 (박시니어)
상황: 10년 된 레거시 코드 현대화

1. Web IDE에서 레거시 코드 열기
2. Continue에서 코드 블록 선택 → "Refactor this"
3. AI가 현대적 패턴으로 리팩토링 제안
4. Diff 뷰로 변경사항 검토
5. 일부 수정 후 적용
6. 테스트 실행으로 회귀 확인
```

#### 시나리오 3: 버그 디버깅

```
사용자: 개발자 (이디버그)
상황: 프로덕션 버그 긴급 수정

1. 에러 로그 복사
2. Continue Chat에 붙여넣기 → "이 에러 원인 분석해줘"
3. AI가 가능한 원인과 해결책 제시
4. 제안된 수정 코드 적용
5. 테스트 후 핫픽스 배포
```

---

## 3. 기능 요구사항

### 3.1 핵심 기능 (P0 - Must Have)

#### F1: 브라우저 기반 IDE

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F1.1 | 브라우저에서 VS Code 경험 제공 | Chrome/Edge에서 모든 기능 동작 |
| F1.2 | 파일 편집, 탐색, 검색 | 로컬 VS Code와 동일한 UX |
| F1.3 | 통합 터미널 | bash/zsh 터미널 사용 가능 |
| F1.4 | Git 통합 | clone, commit, push, pull, diff |
| F1.5 | 언어 서버 지원 | Python, JavaScript, TypeScript, Java |

#### F2: AI 자동완성

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F2.1 | 인라인 코드 자동완성 | 타이핑 중 실시간 제안 |
| F2.2 | 멀티라인 제안 | 함수/클래스 전체 제안 가능 |
| F2.3 | Tab으로 수락 | Copilot과 동일한 UX |
| F2.4 | 응답 시간 | P95 < 400ms |

#### F3: AI Chat/Edit

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F3.1 | 사이드바 Chat | 코드 관련 질문/답변 |
| F3.2 | 인라인 Edit | 선택한 코드 수정 요청 |
| F3.3 | 코드 컨텍스트 인식 | 현재 파일/프로젝트 컨텍스트 활용 |
| F3.4 | Diff 뷰 | 변경 전/후 비교 |

#### F4: 인증 및 접근통제

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F4.1 | SSO 연동 | OIDC/SAML 지원 |
| F4.2 | MFA 강제 | TOTP 또는 Push |
| F4.3 | 세션 관리 | 30분 타임아웃, 단일 세션 |
| F4.4 | 워크스페이스 격리 | 사용자별 완전 격리 |

### 3.2 중요 기능 (P1 - Should Have)

#### F5: 공급망 관리

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F5.1 | 확장 화이트리스트 | 승인된 확장만 설치 가능 |
| F5.2 | 패키지 미러 | PyPI, npm, Maven 내부 미러 |
| F5.3 | 확장 설치 감사 | 모든 설치 이력 로깅 |

#### F6: 감사 및 로깅

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F6.1 | 인증 로그 | 로그인/로그아웃 이벤트 |
| F6.2 | 접근 로그 | 모든 HTTP 요청 로깅 |
| F6.3 | AI 사용 로그 | 요청 메타데이터 (본문 제외) |
| F6.4 | SIEM 연동 | Elasticsearch/Splunk 연동 |

### 3.3 추가 기능 (P2 - Nice to Have)

#### F7: Code Intelligence

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F7.1 | 코드 검색 | 조직 전체 코드베이스 검색 |
| F7.2 | 심볼 탐색 | Go to Definition, Find References |
| F7.3 | RAG 컨텍스트 | 관련 코드 자동 참조 |

#### F8: 협업 기능

| ID | 요구사항 | 수용 기준 |
|----|---------|----------|
| F8.1 | 워크스페이스 공유 | 읽기 전용 공유 |
| F8.2 | 코드 스니펫 공유 | 내부 사용자간 공유 |

---

## 4. 비기능 요구사항

### 4.1 성능

| 항목 | 요구사항 | 측정 방법 |
|------|---------|----------|
| IDE 로딩 | < 5초 | Lighthouse |
| 자동완성 응답 | P95 < 400ms, 목표 < 200ms | Tabby 메트릭 |
| Chat 응답 | P95 < 5초, 목표 < 3초 | LLM Gateway 메트릭 |
| 동시 사용자 | 100명 (Phase 3) | 부하 테스트 |

### 4.2 가용성

| 항목 | 요구사항 |
|------|---------|
| 가동률 | 99.5% (월간) |
| 계획된 다운타임 | 월 4시간 이내 (업무 외 시간) |
| RPO | 1시간 |
| RTO | 2시간 |

### 4.3 보안

| 항목 | 요구사항 |
|------|---------|
| 데이터 암호화 | 전송 중 (TLS 1.3), 저장 시 (AES-256) |
| 인증 | SSO + MFA 필수 |
| 네트워크 격리 | VDE 내부에서만 접근 |
| 취약점 관리 | Critical 24시간, High 7일 내 패치 |

### 4.4 확장성

| 항목 | 요구사항 |
|------|---------|
| 수평 확장 | 사용자 증가 시 자동 스케일링 |
| GPU 확장 | 요청 증가 시 GPU 노드 추가 |
| 스토리지 | 사용자당 20GB, 동적 확장 |

---

## 5. 기술 스택

### 5.1 확정 기술

| 계층 | 기술 | 선정 사유 |
|------|------|----------|
| Web IDE | code-server | 성숙도, 커뮤니티, 운영 사례 |
| 자동완성 | Tabby | Self-hosted, Apache 2.0 |
| Chat/Agent | Continue | VS Code 네이티브, 활발한 개발 |
| LLM Gateway | LiteLLM Proxy | 간편한 설정, 다중 모델 지원 |
| 인증 | Keycloak | OIDC/SAML, MFA, 오픈소스 |
| 오케스트레이션 | Kubernetes | 표준, 스케일링, 에코시스템 |

### 5.2 권장 AI 모델

| 용도 | 모델 | 크기 | GPU |
|------|------|------|-----|
| 자동완성 | StarCoder2-7B | 7B | RTX 5090 |
| Chat/Edit | DeepSeek-Coder-33B-Instruct | 33B | A100 40GB |

### 5.3 검토 필요 기술

| 기술 | 용도 | 검토 사항 |
|------|------|----------|
| Sourcegraph | Code Intelligence | 비용 vs 자체 구축 |
| Qdrant | 벡터 DB (RAG) | 자체 구축 시 선택 |

---

## 6. 제약 조건

### 6.1 기술적 제약

| 제약 | 영향 | 대응 |
|------|------|------|
| VDE 인터넷 차단 | 외부 서비스 불가 | 모든 컴포넌트 내부 구축 |
| 파일 반출입 차단 | 업/다운로드 불가 | Git 기반 워크플로우 |
| 클립보드 차단 | 복사/붙여넣기 제한 | IDE 내부 작업 |

### 6.2 조직적 제약

| 제약 | 영향 | 대응 |
|------|------|------|
| 보안 심사 필수 | 배포 전 승인 필요 | 조기 보안팀 협의 |
| 변경 관리 | 프로덕션 변경 승인 | CAB 프로세스 준수 |
| 예산 승인 | 하드웨어 구매 | 사전 예산 확보 |

---

## 7. 릴리스 계획

### 7.1 버전 로드맵

| 버전 | 시기 | 주요 기능 |
|------|------|----------|
| v0.1 (PoC) | Phase 1 완료 | 기본 IDE + AI 자동완성 + Chat |
| v0.5 (Pilot) | Phase 2 완료 | + 보안 통제 + 공급망 관리 |
| v1.0 (GA) | Phase 3 완료 | + 고가용성 + 전사 롤아웃 |
| v1.1 | GA + 1개월 | + Code RAG + 성능 최적화 |
| v1.2 | GA + 3개월 | + 고급 에이전트 기능 |

### 7.2 롤아웃 전략

```
Phase 3 롤아웃:
──────────────
Week 1-2: 50명 (기존 파일럿 + 얼리어답터)
    ↓ 안정화 확인
Week 3-4: 100명 (확대)
    ↓ 안정화 확인
Week 5+: 전사 (필요시)
```

---

## 8. 성공 지표 (KPI)

### 8.1 채택 지표

| 지표 | 목표 (GA 후 3개월) |
|------|-------------------|
| 활성 사용자 비율 | 전체 개발자의 70% |
| 일일 활성 사용자 (DAU) | 50명 이상 |
| 주간 AI 요청 수 | 10,000건 이상 |

### 8.2 품질 지표

| 지표 | 목표 |
|------|------|
| 자동완성 수용률 | 25% 이상 |
| Chat 만족도 | 4/5 이상 |
| 시스템 가동률 | 99.5% |
| P1 장애 | 월 0건 |

### 8.3 비즈니스 지표

| 지표 | 목표 |
|------|------|
| 개발 생산성 | 코드 작성 시간 20% 단축 |
| 온보딩 시간 | 신규 개발자 적응 30% 단축 |
| 보안 컴플라이언스 | 감사 지적 0건 |

---

## 9. 부록

### 9.1 용어 정의

| 용어 | 정의 |
|------|------|
| VDE | Virtual Desktop Environment, 가상 데스크톱 환경 |
| code-server | 브라우저에서 VS Code를 실행하는 오픈소스 프로젝트 |
| Tabby | Self-hosted AI 코딩 어시스턴트 |
| Continue | VS Code용 AI 코딩 확장 |
| LLM Gateway | LLM 요청을 중계하고 정책을 적용하는 프록시 |

### 9.2 관련 문서

- [아키텍처 설계서](01-ARCHITECTURE.md)
- [보안 통제 명세서](02-SECURITY-CONTROLS.md)
- [운영 가이드](03-OPERATIONS-GUIDE.md)
- [구축 로드맵](04-ROADMAP.md)

### 9.3 변경 이력

| 버전 | 일자 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2026-01-01 | 최초 작성 | - |
| 2.0 | 2026-01-03 | 리뷰 의견 반영, 정량적 기준 추가 | - |
