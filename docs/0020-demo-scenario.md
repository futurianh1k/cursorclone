# 0020 - 시연용 데모 시나리오(진행 스크립트) — Cursor On-Prem PoC

대상: 영업/PM/엔지니어(데모 진행자)  
목표: “온프레미스에서 Cursor 같은 개발 경험”을 **10~20분** 안에 설득력 있게 보여주기

> 보안 원칙(중요)
> - 시연 중에도 토큰/JWT/내부 토큰/비밀번호/개인정보를 화면 공유/녹화에 노출하지 마세요.
> - 계정은 **데모 전용 테스트 계정**을 사용하고, 이메일도 개인 이메일 대신 데모 도메인을 사용하세요.

---

## 0) 데모 메시지(한 문장)

**“온프레미스 환경에서 코드/지식이 외부로 나가지 않도록 통제하면서도, 자동완성·채팅·RAG 검색으로 개발 생산성을 끌어올립니다.”**

---

## 1) 데모 구성(권장 15분)

- **1~2분**: 아키텍처(웹/IDE/Gateway/Tabby/RAG) 소개
- **4~6분**: 워크스페이스 생성 → IDE(code-server) 접속
- **3~5분**: Tabby 자동완성 / Continue 채팅 (Gateway 경유)
- **3~5분**: RAG 검색/컨텍스트 빌드(권한/스코프 + DLP 메시지 강조)

---

## 2) 데모 전 준비(진행자 체크리스트)

아래 체크는 “데모 시작 전에” 완료해야 합니다.

- **서비스 기동**: Web/API/Gateway/Tabby(선택: vLLM/Qdrant) 정상
- **데모 계정**: 로그인 가능(권장 role: developer, RAG 인덱싱은 admin 계정 준비)
- **데모 워크스페이스**: 1개는 미리 준비(IDE warmup), 1개는 “라이브 생성용”
- **브라우저 설정**: 팝업 차단 해제(IDE 새 창 열림)

운영자용 명령은 `docs/0021-demo-ops-manual.md` 참고.

---

## 3) 본편 진행 스크립트(화면 + 대사)

### 3-1) 로그인(Web)

- **화면**: `/login`
- **대사 예시**
  - “지금부터 온프레미스 내부 서비스로 로그인합니다.”
  - “토큰은 브라우저 저장소에만 있고, 외부로 전송되지 않도록 Gateway 정책으로 통제합니다.”
- **성공 기준**
  - 로그인 후 `/dashboard` 이동

### 3-2) 대시보드(워크스페이스 목록)

- **화면**: `/dashboard`
- **대사 예시**
  - “여기서 프로젝트/워크스페이스를 만들고, 워크스페이스별 IDE 컨테이너를 프로비저닝합니다.”
- **성공 기준**
  - “Workspaces”가 보이고 “+ 새 워크스페이스” 버튼이 보임

### 3-3) (라이브) 워크스페이스 생성

- **화면**: “+ 새 워크스페이스” → “새 워크스페이스 생성” 모달
- **대사 예시**
  - “프로젝트를 새로 만들거나 기존 프로젝트에 워크스페이스를 추가할 수 있습니다.”
  - “생성 시 IDE 컨테이너가 백그라운드로 준비됩니다.”
- **입력**
  - 워크스페이스 이름: `demo_ws_<날짜>` 같은 중복 방지 이름
  - 모드: “📁 빈 워크스페이스”
- **성공 기준**
  - 성공 토스트가 뜨고, 목록에 워크스페이스가 보임
  - 상태가 provisioning/starting → running(환경에 따라 시간이 걸릴 수 있음)

### 3-4) IDE(code-server) 접속

- **화면**: 워크스페이스 행에서 “시작/열기” → code-server 새 창
- **대사 예시**
  - “브라우저 기반 VS Code(code-server)입니다.”
  - “이 IDE는 워크스페이스별로 설정이 주입되고, AI 요청은 Gateway를 통해서만 나가도록 구성됩니다.”
- **성공 기준**
  - 파일 트리/에디터가 보임
  - (가능하면) 파일 생성/저장 동작

### 3-5) Continue 채팅(핵심: Gateway 경유)

- **화면**: IDE 우측 패널(Continue/Chat)
- **대사 예시**
  - “채팅 요청은 Gateway를 거쳐 권한/스코프/DLP/감사를 통과합니다.”
  - “온프레미스 제약에서도 모델(vLLM)을 내부에서 서빙할 수 있습니다.”
- **데모 프롬프트(권장)**
  - “이 프로젝트의 구조를 한 문장으로 요약해줘.”
  - “`apps/api`와 `apps/web`의 역할을 비교해줘.”
- **성공 기준**
  - 답변이 오고, 민감정보 없이 일반적인 설명이 생성됨

### 3-6) Tabby 자동완성(짧고 강하게)

- **화면**: IDE 에디터에서 Python/TS 파일 생성 후 몇 글자 입력
- **대사 예시**
  - “자동완성도 Gateway 경유로 통제하면서 Tabby로 제공합니다.”
- **성공 기준**
  - 인라인 제안이 뜨거나, 최소한 Tabby 연결 상태가 정상임을 확인

> 환경에 따라 자동완성은 지연/불안정할 수 있으므로, **성공/실패 스크린샷 둘 다** 준비하면 좋습니다.

### 3-7) RAG 검색/컨텍스트(보안 강조)

- **화면**: (권장) 운영자 명령으로 `gateway /v1/rag/search` 호출 결과를 보여주거나, 대시보드/IDE에서 관련 기능이 있다면 해당 UI
- **대사 예시**
  - “대규모 레포에서는 grep만으로 품질이 떨어지므로 임베딩 기반 검색을 합니다.”
  - “테넌트/프로젝트/워크스페이스 스코프로 필터링하고, 응답도 DLP로 검사합니다.”
- **성공 기준**
  - 검색 결과가 스코프 내 파일로만 나오고, 컨텍스트가 예산 내로 팩킹됨

---

## 4) 플랜B(실패 시 대체 시연)

### B1) IDE 팝업이 안 열릴 때

- 팝업 차단 해제 후 재시도
- 또는 이미 떠 있는 IDE 포트(예: `http://<host>:9100`)를 직접 접속

### B2) Tabby 자동완성이 불안정할 때

- “Gateway가 `/v1/completions`를 Tabby로 라우팅한다”를 **헬스/라우팅**으로 증명
- 운영자에게 `/v1/health`(Gateway→Tabby) 결과를 확인받고, UI는 “가능하면” 보여주기

### B3) RAG 결과가 비어있을 때

- 데모 워크스페이스에 코드가 거의 없으면 정상입니다.
- 미리 준비된 “코드가 있는 워크스페이스”로 전환하거나, 인덱싱을 먼저 수행한 워크스페이스를 사용

### B4) 모델 응답이 느릴 때

- “온프레미스에서 모델 워밍업이 필요할 수 있다”를 안내하고,
- 프롬프트를 짧게(“ping”, “한 문장 요약”) 바꿔서 시연을 이어가기

---

## 5) 데모 마무리(핵심 요약 3문장)

- “개발 경험은 Cursor처럼, 배치는 온프레미스처럼.”
- “AI 요청은 Gateway로 단일화해서 인증/인가/DLP/감사를 강제.”
- “RAG는 스코프 기반으로 격리하고, 컨텍스트를 예산 내로 팩킹.”

---

## 참고

- 사용자 매뉴얼: `docs/0018-solution-user-manual.md`
- 운영 runbook(복붙): `docs/0015-whitelabel-e2e-runbook.md`
- Playwright 테스트: `docs/0016-playwright-e2e.md`, `docs/0017-playwright-e2e-testplan.md`

