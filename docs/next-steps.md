# ë‹¤ìŒ ë‹¨ê³„ ì‘ì—… ê³„íš

**ì‘ì„±ì¼**: 2025-01-02  
**í˜„ì¬ ìƒíƒœ**: MVP ì™„ë£Œ, í”„ë¡œë•ì…˜ ì¤€ë¹„ ë‹¨ê³„

---

## í˜„ì¬ ì™„ë£Œëœ ì‘ì—… âœ…

1. âœ… **ëŒ€ê·œëª¨ ìŠ¤ì¼€ì¼ë§ ì•„í‚¤í…ì²˜ ì„¤ê³„** (500ëª… ê·œëª¨)
2. âœ… **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ** (ë©€í‹° í…Œë„ŒíŠ¸, ì›Œí¬ìŠ¤í˜ì´ìŠ¤, ì¸í”„ë¼ ì„œë²„)
3. âœ… **Redis ìºì‹± ë ˆì´ì–´**
4. âœ… **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ** (ì„œë²„ ê´€ë¦¬, ì¸ì¦ ê´€ë¦¬)
5. âœ… **ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ** (íšŒì›ê°€ì…, ë¡œê·¸ì¸, JWT)
6. âœ… **ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ** (Cursor ìŠ¤íƒ€ì¼, 10ê°œ ê¸°ëŠ¥)
7. âœ… **CI/CD íŒŒì´í”„ë¼ì¸** (GitHub Actions)
8. âœ… **Docker Compose & Kubernetes ë°°í¬**
9. âœ… **ëª¨ë‹ˆí„°ë§ ë„êµ¬** (Prometheus, Grafana, Portainer)
10. âœ… **ì»¨í…Œì´ë„ˆ ì •ìƒ ë™ì‘ í™•ì¸**

---

## ë‹¤ìŒ ë‹¨ê³„ ì‘ì—… (ìš°ì„ ìˆœìœ„ ìˆœ)

### Phase 1: í•µì‹¬ ê¸°ëŠ¥ ì™„ì„± (ì¦‰ì‹œ í•„ìš”)

#### 1.1 ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ êµ¬í˜„ ğŸ”´ **ìµœìš°ì„ **
**ëª©ì **: ì‹¤ì œ Docker/Kubernetes ì»¨í…Œì´ë„ˆë¡œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê²©ë¦¬ ë° ì‹¤í–‰

**ì‘ì—… ë‚´ìš©**:
- [ ] `WorkspaceManager` ì„œë¹„ìŠ¤ êµ¬í˜„
  - Docker SDK (`docker-py`) í†µí•©
  - ì»¨í…Œì´ë„ˆ ìƒì„±/ì‚­ì œ/ì¬ì‹œì‘
  - ë¦¬ì†ŒìŠ¤ ì œí•œ ì„¤ì • (CPU, Memory)
  - ë³¼ë¥¨ ë§ˆìš´íŠ¸ ê´€ë¦¬
- [ ] ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ë¼ì´í”„ì‚¬ì´í´ API
  - `POST /api/workspaces/{id}/start` - ì»¨í…Œì´ë„ˆ ì‹œì‘
  - `POST /api/workspaces/{id}/stop` - ì»¨í…Œì´ë„ˆ ì¤‘ì§€
  - `GET /api/workspaces/{id}/status` - ì»¨í…Œì´ë„ˆ ìƒíƒœ ì¡°íšŒ
  - `GET /api/workspaces/{id}/logs` - ì»¨í…Œì´ë„ˆ ë¡œê·¸ ì¡°íšŒ
- [ ] ì»¨í…Œì´ë„ˆ ë‚´ ëª…ë ¹ ì‹¤í–‰ API
  - `POST /api/workspaces/{id}/execute` - ëª…ë ¹ ì‹¤í–‰
  - WebSocketì„ í†µí•œ ì‹¤ì‹œê°„ ì¶œë ¥

**ì˜ˆìƒ ì‹œê°„**: 2-3ì¼

#### 1.2 ì¸í”„ë¼ ì„œë²„ ì‹¤ì œ ì—°ê²° êµ¬í˜„ ğŸ”´ **ìµœìš°ì„ **
**ëª©ì **: ë“±ë¡ëœ ì„œë²„ì— ì‹¤ì œë¡œ ì—°ê²°í•˜ê³  ë¦¬ì†ŒìŠ¤ ì •ë³´ ìˆ˜ì§‘

**ì‘ì—… ë‚´ìš©**:
- [ ] SSH ì—°ê²° í…ŒìŠ¤íŠ¸ êµ¬í˜„
  - `paramiko` ë˜ëŠ” `asyncssh` ì‚¬ìš©
  - SSH í‚¤ ì¸ì¦
  - ì—°ê²° ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬
- [ ] Kubernetes API ì—°ê²° í…ŒìŠ¤íŠ¸
  - `kubernetes` Python í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©
  - kubeconfig íŒŒì‹± ë° ì¸ì¦
  - í´ëŸ¬ìŠ¤í„° ì •ë³´ ìˆ˜ì§‘
- [ ] ë¦¬ì†ŒìŠ¤ ì •ë³´ ìˆ˜ì§‘
  - CPU, Memory, Disk ì‚¬ìš©ëŸ‰
  - ë…¸ë“œ ì •ë³´
  - Pod ìƒíƒœ

**ì˜ˆìƒ ì‹œê°„**: 1-2ì¼

#### 1.3 ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œìŠ¤í…œ ğŸ”´ **ìµœìš°ì„ **
**ëª©ì **: ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬

**ì‘ì—… ë‚´ìš©**:
- [ ] Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì •
- [ ] ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ê°œì„ 
- [ ] ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜µì…˜ ì¶”ê°€

**ì˜ˆìƒ ì‹œê°„**: 0.5ì¼

---

### Phase 2: ê¸°ëŠ¥ í™•ì¥ (ë‹¨ê¸°)

#### 2.1 ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë°°ì¹˜ ìë™í™”
**ì‘ì—… ë‚´ìš©**:
- [ ] ì‹¤ì œ ì„œë²„ ì„ íƒ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- [ ] ë¦¬ì†ŒìŠ¤ ê¸°ë°˜ ë°°ì¹˜ ë¡œì§
- [ ] ë°°ì¹˜ ì •ì±… ê´€ë¦¬ UI
- [ ] ìë™ ì¬ë°°ì¹˜ (ì„œë²„ ì¥ì•  ì‹œ)

**ì˜ˆìƒ ì‹œê°„**: 1-2ì¼

#### 2.2 ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼
**ì‘ì—… ë‚´ìš©**:
- [ ] Prometheus ë©”íŠ¸ë¦­ ìˆ˜ì§‘ êµ¬í˜„
  - API ë©”íŠ¸ë¦­ (ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„)
  - ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©”íŠ¸ë¦­ (ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰)
  - ë°ì´í„°ë² ì´ìŠ¤ ë©”íŠ¸ë¦­
- [ ] Grafana ëŒ€ì‹œë³´ë“œ ìƒì„±
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ (ì´ë©”ì¼, Slack)
- [ ] ì„ê³„ê°’ ì„¤ì • ë° ì•Œë¦¼ ê·œì¹™

**ì˜ˆìƒ ì‹œê°„**: 2ì¼

#### 2.3 ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥ êµ¬í˜„
**ì‘ì—… ë‚´ìš©**:
- [ ] Settings API ì—°ë™ (í”„ë¡œí•„ ìˆ˜ì •)
- [ ] Members API ì—°ë™ (íŒ€ì› ì´ˆëŒ€/ê´€ë¦¬)
- [ ] Integrations ì‹¤ì œ ì—°ë™ (GitHub OAuth)
- [ ] Analytics ë°ì´í„° ìˆ˜ì§‘ ë° í‘œì‹œ
- [ ] Usage ì‹¤ì œ ì‚¬ìš©ëŸ‰ ì¶”ì 

**ì˜ˆìƒ ì‹œê°„**: 2-3ì¼

---

### Phase 3: í”„ë¡œë•ì…˜ ì¤€ë¹„ (ì¤‘ê¸°)

#### 3.1 ë³´ì•ˆ ê°•í™”
**ì‘ì—… ë‚´ìš©**:
- [ ] SSO/LDAP ì—°ë™ (ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½)
- [ ] RBAC (Role-Based Access Control) êµ¬í˜„
- [ ] API Rate Limiting
- [ ] ë³´ì•ˆ í—¤ë” ì„¤ì • (CSP, HSTS ë“±)
- [ ] ê°ì‚¬ ë¡œê·¸ ê°•í™”

**ì˜ˆìƒ ì‹œê°„**: 3-4ì¼

#### 3.2 ì„±ëŠ¥ ìµœì í™”
**ì‘ì—… ë‚´ìš©**:
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”
- [ ] ìºì‹± ì „ëµ ê°œì„ 
- [ ] ì—°ê²° í’€ íŠœë‹
- [ ] ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë° ë³‘ëª© ì§€ì  íŒŒì•…
- [ ] CDN í†µí•© (ì •ì  íŒŒì¼)

**ì˜ˆìƒ ì‹œê°„**: 2-3ì¼

#### 3.3 ê³ ê°€ìš©ì„± êµ¬ì„±
**ì‘ì—… ë‚´ìš©**:
- [ ] Kubernetes ê³ ê°€ìš©ì„± ì„¤ì •
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë³µì œ (PostgreSQL Streaming Replication)
- [ ] Redis í´ëŸ¬ìŠ¤í„° êµ¬ì„±
- [ ] ë¡œë“œ ë°¸ëŸ°ì„œ ì„¤ì •
- [ ] ì¥ì•  ë³µêµ¬ ìë™í™”

**ì˜ˆìƒ ì‹œê°„**: 3-5ì¼

---

### Phase 4: ê³ ê¸‰ ê¸°ëŠ¥ (ì¥ê¸°)

#### 4.1 Cloud Agents êµ¬í˜„
**ì‘ì—… ë‚´ìš©**:
- [ ] ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜ ì„¤ê³„
- [ ] ì—ì´ì „íŠ¸ ë“±ë¡ ë° ê´€ë¦¬
- [ ] ì‘ì—… í ì‹œìŠ¤í…œ
- [ ] ì—ì´ì „íŠ¸ ëª¨ë‹ˆí„°ë§

**ì˜ˆìƒ ì‹œê°„**: 5-7ì¼

#### 4.2 Bugbot êµ¬í˜„
**ì‘ì—… ë‚´ìš©**:
- [ ] ì½”ë“œ ë¶„ì„ ì—”ì§„
- [ ] ë²„ê·¸ íŒ¨í„´ íƒì§€
- [ ] ìë™ ìˆ˜ì • ì œì•ˆ
- [ ] ë¦¬í¬íŠ¸ ìƒì„±

**ì˜ˆìƒ ì‹œê°„**: 7-10ì¼

#### 4.3 Kubernetes ë„¤ì´í‹°ë¸Œ ë°°í¬
**ì‘ì—… ë‚´ìš©**:
- [ ] Kubernetes Operator ê°œë°œ
- [ ] Custom Resource Definition (CRD)
- [ ] ì›Œí¬ìŠ¤í˜ì´ìŠ¤ Pod ìë™ ê´€ë¦¬
- [ ] ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê²©ë¦¬

**ì˜ˆìƒ ì‹œê°„**: 5-7ì¼

---

## ê¶Œì¥ ì‘ì—… ìˆœì„œ

### ì¦‰ì‹œ ì‹œì‘ (ì´ë²ˆ ì£¼)
1. **ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ êµ¬í˜„** (Phase 1.1)
2. **ì¸í”„ë¼ ì„œë²„ ì‹¤ì œ ì—°ê²° êµ¬í˜„** (Phase 1.2)
3. **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œìŠ¤í…œ** (Phase 1.3)

### ë‹¨ê¸° (ë‹¤ìŒ 2ì£¼)
4. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë°°ì¹˜ ìë™í™” (Phase 2.1)
5. ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ (Phase 2.2)
6. ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥ êµ¬í˜„ (Phase 2.3)

### ì¤‘ê¸° (ë‹¤ìŒ 1-2ê°œì›”)
7. ë³´ì•ˆ ê°•í™” (Phase 3.1)
8. ì„±ëŠ¥ ìµœì í™” (Phase 3.2)
9. ê³ ê°€ìš©ì„± êµ¬ì„± (Phase 3.3)

---

## ê¸°ìˆ  ìŠ¤íƒ ì¶”ê°€ í•„ìš”

### Python íŒ¨í‚¤ì§€
```txt
# ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ê´€ë¦¬
docker>=7.0.0
kubernetes>=28.0.0

# SSH ì—°ê²°
paramiko>=3.4.0
asyncssh>=2.14.0

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
alembic>=1.13.0

# ëª¨ë‹ˆí„°ë§
prometheus-client>=0.19.0
```

### Node.js íŒ¨í‚¤ì§€
```json
{
  "dependencies": {
    "@tanstack/react-query": "^5.0.0",
    "recharts": "^2.10.0"
  }
}
```

---

## ì°¸ê³  ë¬¸ì„œ

- **ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ì•„í‚¤í…ì²˜**: `docs/workspace-container-architecture.md`
- **ìŠ¤ì¼€ì¼ë§ ì•„í‚¤í…ì²˜**: `docs/scalability-architecture.md`
- **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**: `docs/admin-dashboard-architecture.md`
- **DevOps ê°€ì´ë“œ**: `docs/devops-guide.md`

---

## ë‹¤ìŒ ì‘ì—… ì‹œì‘í•˜ê¸°

ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì‘ì—…ë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤:

```bash
# 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ êµ¬í˜„
# apps/api/src/services/workspace_manager.py ìƒì„±
# apps/api/src/routers/workspaces.pyì— ì»¨í…Œì´ë„ˆ ê´€ë¦¬ API ì¶”ê°€

# 2. ì¸í”„ë¼ ì„œë²„ ì‹¤ì œ ì—°ê²° êµ¬í˜„
# apps/api/src/services/infrastructure_service.py ìƒì„±
# apps/api/src/routers/admin.pyì˜ test_server_connection ê°œì„ 

# 3. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì •
# alembic ì´ˆê¸°í™” ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
```
